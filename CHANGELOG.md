# Changelog

## [v1.7.0]()

- â˜¢ Breaking change
- ðŸ“Œ New feature/implementation 

### ðŸš€ **Tests Development**

We are developing unit tests to cover misbehavior and bugs within Melon so we will be able to identify, prevent and fix internal issues with our libraries and core methods, we have also been able to resolve several minor issues identified and we are excited to end full test coverage. In the next minor versions we will be focused in bug bounty and aim the full coverage of Melon.

### âš¡ **Hard Optimizations**

Several internal optimizations were performed, such as the implementation of internal lazy loading, reduction of steps to achieve the construction of the main Melon Engine instance and complete reorganization of the solution structure, with a focus on architectural scalability.

- **[core]** Csharp solution rebuilt focusing in best pratices and scalability
- **[core]** Implemented lazy loading for internal JS libraries + builder pattern for creating the final Engine instance
- **[core]** Fixed optimization gaps in the code (JavaScript and C#)

### â™» **Rework Implementations**

- ðŸ“Œ **[core] [new]** Created new `guards` library to make easier declarative programming with Melon
- ðŸ“Œ **[core] [new]** Implemented .NET interop with `xrequire("dotnet:[MODULE]")`
- ðŸ“Œ **[core] [new]** Implemented .NET external assembly loading with `xrequire("dotnet-external:[PATH]")`
- â˜¢ **[core]** Re-implemented `std` library from zero with several changes
- ðŸ“Œ **[core]** Implemented wrapped `Promise` as content of `std` to ease imports
- ðŸ“Œ **[core]** Re-implemented `std.shift()` with the same behavior as the old one
- ðŸ“Œ **[core]** Implemented `system` as sub-module with its own methods
- ðŸ“Œ **[core]** Implemented `environment` as sub-module with its own methods
- ðŸ“Œ **[core]** Implemented `process` as sub-module with its own methods
- â˜¢ **[core]** Re-implemented `http` library from zero with several changes
- ðŸ“Œ **[core]** Implemented wrapped `HttpRoute` as content of `std` to ease imports
- ðŸ“Œ **[core]** Implemented wrapped `HttpApplication` as content of `std` to ease imports
- ðŸ“Œ **[core]** Implemented wrapped `Response` as content of `std` to ease imports
- ðŸ“Œ **[core]** Implemented `http.[result/static/image/audio/video/pdf/html]` as valid webapp route responses

## [v1.6.0](https://github.com/MelonRuntime/MelonRuntime/releases/tag/v1.6.0)
`06/25/2022`

> Optimization update

- **[core]** Now, the package core will be pre-built and will be just executed instead of built by .NET SDK [Important: Now, MelonRuntime will now require .NET Runtime, no more SDK]
- **[core]** Fixed `MFile` and `MFolder` static implementations and type references
- **[core]** Implemented `MPromise` + types as workaround to using Melon-based promises as wrapper to usual promises
- **[scripts]** All the repository internal scripts were reworked
- **[docker]** Implemented `1.6.x` dockerfile

## [v1.5.0](https://github.com/MelonRuntime/MelonRuntime/releases/tag/v1.5.0)
`06/24/2022`

> Docker + async/await + RestAPI update

- `http.app` and `HttpApplication` codebase and types remade to accept callback functions instead of string unsafe scripts. Now, http applications will be internally identified with a `name` field, store the callback externally (instead of sending it to the C# core) and that callback will be called using the `name` reference, from the core, with a `_apps` wrapper inside the `http` module
- Developed integrated Dockerfile and implemented [path resolution/memory usage] fixes to enable Docker support in MelonRuntime projects. Currently, the available compatible pre-built Dockerfiles can be found in the [dedicated folder](https://github.com/MelonRuntime/MelonRuntime/tree/main/utils/dockerfiles/) (you can also create your custom ones)
- Implemented `async/await` proper support in projects generated by `npx melon new [path?]`. Manual projects still need bundling using babel preset env or similar to run.

## [v1.4.0](https://github.com/MelonRuntime/MelonRuntime/releases/tag/v1.4.0)
`06/22/2022`

> Internal methods + utility update

- Complete refactoring of the `npx melon [args]` command execution module, improved display of return data for final logs and standardization of paths to find files
- Implemented `std.object` section, focused in object management operations, with the functions `isTruthy`, `isFalsy`, `isEnumerable` and the submodule `string` with the method `putAt`
- Implemented `environment.process` module with the functions `getMemoryUsage`, `getPlatform`, `setTitle` and `getCurrentTime`
- Implemented function `debug.details`

## [v1.3.0](https://github.com/MelonRuntime/MelonRuntime/releases/tag/v1.3.0)
`06/18/2022`

> Database update

- Implemented `data` MySQL and SQLServer raw providers (with methods `executeNonQuery` and `executeQuery`):

```ts
MySQLClient: function (host, port, database, username, password) {
  //...
},
SqlServerClient: function (host, port, database, username, password) {
  //...
}
```

## [v1.2.0](https://github.com/MelonRuntime/MelonRuntime/releases/tag/v1.2.0)
`06/17/2022`

- Now using CLI.NET nuget package instead of implementing the project directly inside the solution
- Implemented Webpack and Babel into project generator presets
- General code quality implementations and refactor

## [v1.1.0](https://github.com/MelonRuntime/MelonRuntime/releases/tag/v1.1.0)
`06/11/2022`

- Implemented `application.baseDir()` function and types
- Fixed cache clear in `application.end()`
- Fixed default value app serialization issues from `app.json`
- Featuring Workers (documentation pendent)
- Now `load` function can load standalone functions (currently as strings) and expression functions and will parse other values correctly.
- Implemented built-in `PgClient` to connect to Postgres databases using raw sql directly
- Implemented `npx melon new` to generate MelonJS projects in the current folder + README
- Removed `std.sleep(ms: number)`